<Window x:Class="CarelessWhisperV2.Views.ScreenCaptureOverlay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        WindowStartupLocation="Manual"
        ResizeMode="NoResize"
        KeyDown="Window_KeyDown"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        MouseMove="Window_MouseMove"
        MouseLeftButtonUp="Window_MouseLeftButtonUp"
        Cursor="Cross">
    
    <Grid Name="MainGrid">
        <!-- Semi-transparent overlay -->
        <Rectangle Name="OverlayRect" 
                   Fill="Black" 
                   Opacity="0.3" />
        
        <!-- Canvas for selection rectangle -->
        <Canvas Name="SelectionCanvas" 
                Background="Transparent">
            
            <!-- Selection rectangle -->
            <Rectangle Name="SelectionRect"
                       Visibility="Collapsed"
                       StrokeThickness="2"
                       StrokeDashArray="5,3">
                <Rectangle.Fill>
                    <SolidColorBrush Color="#007ACC" Opacity="0.25"/>
                </Rectangle.Fill>
                <Rectangle.Stroke>
                    <SolidColorBrush Color="#007ACC"/>
                </Rectangle.Stroke>
                <!-- Animated dashes -->
                <Rectangle.Resources>
                    <Storyboard x:Key="DashAnimation" RepeatBehavior="Forever">
                        <DoubleAnimation Storyboard.TargetProperty="StrokeDashOffset"
                                       From="0" To="8" Duration="0:0:0.5"/>
                    </Storyboard>
                </Rectangle.Resources>
            </Rectangle>
            
            <!-- Instructions text -->
            <TextBlock Name="InstructionsText"
                       Canvas.Left="20"
                       Canvas.Top="20"
                       Text="Drag to select area • ESC to cancel • ENTER for full screen"
                       FontSize="16"
                       FontWeight="Bold"
                       Foreground="White"
                       Background="#88000000"
                       Padding="10"
                       Visibility="Visible"/>
        </Canvas>
    </Grid>
</Window>
